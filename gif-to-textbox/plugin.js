(()=>{var{observeDom:i,util:{reactFiberWalker:l,getFiber:c,log:F},flux:{storesFlat:{SelectedChannelStore:f}},constants:{AnalyticEvents:p}}=shelter,s;shelter.plugin.scoped.flux.subscribe("TRACK",e=>{if(e.event===p.SEARCH_RESULT_VIEWED&&e.properties.search_type==="GIF"){let n=i('[class*="slateTextArea_"][role="textbox"]',u=>{n();let a=c(u).pendingProps.children.props.node.insertText;s=i('#gif-picker-tab-panel [class^="results_"] [class^="result_"]:not([data-giftotextbox])',o=>{o.dataset.giftotextbox=1;let r=c(o),t=l(r,"item",!0),b=l(r,"onSelectGIF",!0).pendingProps.onSelectGIF,g=t.pendingProps.item,x=t.pendingProps.onClick;t.pendingProps.onClick=function(){try{a(g.url),b({url:""})}catch(d){F(["Failed to insert GIF into textbox:",d]),x.apply(this,arguments)}}})});setTimeout(n,1e3)}else e.event===p.SEARCH_STARTED&&e.properties.search_type==="GIF"&&s?.()});shelter.plugin.scoped.flux.subscribe("GIF_PICKER_QUERY",e=>{e.query===""&&setTimeout(()=>{document.getElementById("gif-picker-tab-panel")||s?.()},100)});})();
